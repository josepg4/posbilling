<div class="container-fluid my-3">
  <div class="row pb-3">
    <div class="col-4">
      <div class="card card-body">
        <h2><span *ngIf="!isEdit">Add</span><span *ngIf="isEdit">Edit</span> Item</h2>
        <form #itemForm="ngForm" (ngSubmit)="onSubmit(itemForm)">
          <div class="form-group items-form">
            <label class="col-form-label-sm">Item ID</label>
            <input type="text" [ngClass]="{'is-invalid':itemProdID.errors && itemProdID.touched}" #itemProdID="ngModel" class="form-control form-control-sm" [(ngModel)]="currentItem.prodid" name="prodid" [disabled]="isEdit" required>
          </div>
          <div class="form-group items-form">
            <label class="col-form-label-sm">Item name</label>
            <input type="text" class="form-control form-control-sm" [(ngModel)]="currentItem.prodname" name="prodname" required>
          </div>
          <div class="form-group items-form">
            <label class="col-form-label-sm">Item Discription</label>
            <textarea class="form-control form-control-sm" aria-label="Discription" [(ngModel)]="currentItem.proddisc" name="proddisc" required></textarea>
          </div>
          <div class="form-group items-form">
            <label class="col-form-label-sm">Category</label>
            <select class="form-control form-control-sm" [(ngModel)]="currentItem.category" name="category" required>
              <option *ngFor="let category of categories">{{category}}</option>
            </select>
          </div>
          <div class="form-row">
            <div class="col">
              <div class="form-group items-form">
                <label class="col-form-label-sm">Stock</label>
                <input type="text" class="form-control form-control-sm" [(ngModel)]="currentItem.stock" name="stock" required>
              </div>
            </div>
            <div class="col">
              <div class="form-group items-form">
                <label class="col-form-label-sm">Unit Price</label>
                <input type="text" class="form-control form-control-sm" [(ngModel)]="currentItem.unitprice" name="unitprice" required>
              </div>
            </div>
          </div>
          <div class="form-group items-form">
            <label class="col-form-label-sm">Tax</label>
            <select class="form-control form-control-sm" [(ngModel)]="currentItem.tax" name="tax" required>
              <option *ngFor="let tax of taxes" [ngValue]="tax.id">{{tax.name}}</option>
            </select>
          </div>
          <div class="form-group items-form">
            <div class="input-group input-group-sm mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroup-sizing-sm">Offer</span>
                <div class="input-group-text">
                  <input type="checkbox" name="hasoff" [checked]="currentItem.hasoff" (change)="currentItem.hasoff = !currentItem.hasoff" [ngModel]="currentItem.hasoff">
                </div>
                <select *ngIf="currentItem.hasoff" class="form-control form-control-sm" [ngModel]="selectedoffer" (ngModelChange)="onChangeOffer($event)" [ngModelOptions]="{standalone: true}" placeholder="Select Offer">
                  <option [ngValue]="offer" *ngFor="let offer of offers">{{offer.name}}</option>
                </select>
              </div>
            </div>
          </div>
          <div *ngIf="currentItem.hasoff" class="form-row">
            <div class="col">
              <div class="form-group items-form">
                <label class="col-form-label-sm">Offer Type</label>
                <input type="text" class="form-control form-control-sm" [(ngModel)]="currentItem.offtype" name="offtype">
              </div>
            </div>
            <div class="col">
              <div class="form-group items-form">
                <label class="col-form-label-sm">offer Value</label>
                <input type="text" class="form-control form-control-sm" [(ngModel)]="currentItem.offvalue" name="offvalue">
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="col">
              <span (click)="setEmptyItem()" class="btn btn-outline-info btn-sm float-right">
                <fa name="eraser"></fa>
              </span>
            </div>
            <div class="col">
              <button *ngIf="!isEdit" class="btn btn-outline-primary btn-block btn-sm mb-3"><fa name="location-arrow"></fa>Add</button>
              <button *ngIf="isEdit" class="btn btn-outline-primary btn-block btn-sm mb-3"><fa name="edit"></fa>Edit</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="col-8 border rounded pt-3">
      <app-itemspagination [data]="inventory" (updateItem)="onUpdateItem($event)" (removeItem)="onRemoveItem($event)"></app-itemspagination>
    </div>
  </div>
</div>
